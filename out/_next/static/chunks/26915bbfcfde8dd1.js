(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90205,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(59752);function s(){let[e,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[d,n]=(0,r.useState)(null),[c,o]=(0,r.useState)("all");(0,r.useEffect)(()=>{x();let e=setInterval(x,3e4);return()=>clearInterval(e)},[]);let x=async()=>{try{i(!0),n(null);let e=await a.apiClient.getNotifications();if(e.success){let t=e.data,r=Array.isArray(t)?t:t.results||[];s(r)}else n(e.error||"Failed to fetch notifications")}catch(e){n(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},m=async e=>{try{let t=await a.apiClient.markNotificationAsRead(e);t.success?await x():n(t.error||"Failed to mark as read")}catch(e){n(e instanceof Error?e.message:"Unknown error")}},u="unread"===c?e.filter(e=>!e.read):e,p={total:e.length,unread:e.filter(e=>!e.read).length};return l&&0===e.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-purple-200 border-t-purple-600 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading notifications..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Notifications"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Stay updated with your contract activities"})]}),d&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:d}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Notifications"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:p.total})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Unread"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-amber-700 mt-2",children:p.unread})]})]}),(0,t.jsxs)("div",{className:"mb-8 flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg font-medium transition ${"all"===c?"bg-purple-600 text-white":"bg-white text-gray-900 border border-gray-200 hover:bg-gray-50"}`,children:["All Notifications (",p.total,")"]}),(0,t.jsxs)("button",{onClick:()=>o("unread"),className:`px-4 py-2 rounded-lg font-medium transition ${"unread"===c?"bg-purple-600 text-white":"bg-white text-gray-900 border border-gray-200 hover:bg-gray-50"}`,children:["Unread (",p.unread,")"]}),(0,t.jsx)("button",{onClick:()=>x(),className:"ml-auto px-4 py-2 bg-white text-gray-900 rounded-lg border border-gray-200 hover:bg-gray-50 transition font-medium",children:"Refresh"})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===u.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"ðŸ””"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"unread"===c?"No unread notifications":"No notifications"})]}):u.map(e=>(0,t.jsx)("div",{className:`bg-white rounded-lg shadow-md p-4 transition ${!e.read?"border-l-4 border-purple-600":""}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-2xl mt-1",children:(e=>{switch(e){case"approval_request":return"ðŸ“‹";case"approval_approved":return"âœ…";case"approval_rejected":return"âŒ";case"contract_created":return"ðŸ“„";case"workflow_completed":return"ðŸŽ‰";default:return"ðŸ“¢"}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,t.jsx)("h3",{className:`font-bold ${!e.read?"text-gray-900":"text-gray-700"}`,children:e.subject}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${(e=>{switch(e){case"approval_request":return"bg-blue-100 text-blue-700";case"approval_approved":return"bg-emerald-100 text-emerald-700";case"approval_rejected":return"bg-red-100 text-red-700";case"contract_created":return"bg-purple-100 text-purple-700";case"workflow_completed":return"bg-indigo-100 text-indigo-700";default:return"bg-gray-100 text-gray-700"}})(e.type)} whitespace-nowrap`,children:e.type.replace(/_/g," ")})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()}),(0,t.jsxs)("div",{className:"flex gap-2",children:[e.action_url&&(0,t.jsx)("a",{href:e.action_url,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"View â†’"}),!e.read&&(0,t.jsx)("button",{onClick:()=>m(e.id),className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Mark as read"})]})]})]})]})},e.id))})]})})}e.s(["default",()=>s])}]);